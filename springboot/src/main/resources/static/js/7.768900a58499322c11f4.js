webpackJsonp([7],{"9sXG":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Dd8w"),i=a.n(n),l={data:function(){return{pagination:{current:1,total:null,size:6},dialogVisible:!1,form:{}}},created:function(){this.getTeacherInfo()},methods:{getTeacherInfo:function(){var e=this;this.$axios("/api/teachers/"+this.pagination.current+"/"+this.pagination.size).then(function(t){e.pagination=t.data.data}).catch(function(e){})},handleSizeChange:function(e){this.pagination.size=e,this.getTeacherInfo()},handleCurrentChange:function(e){this.pagination.current=e,this.getTeacherInfo()},checkGrade:function(e){var t=this;this.dialogVisible=!0,this.$axios("/api/teacher/"+e).then(function(e){t.form=e.data.data})},deleteById:function(e){var t=this;this.$confirm("确定删除当前教师吗？删除后无法恢复","Warning",{confirmButtonText:"确定删除",cancelButtonText:"算了,留着吧",type:"danger"}).then(function(){t.$axios({url:"/api/teacher/"+e,method:"delete"}).then(function(e){t.getTeacherInfo()})}).catch(function(){})},submit:function(){var e=this;this.dialogVisible=!1,this.$axios({url:"/api/teacher",method:"put",data:i()({},this.form)}).then(function(t){console.log(t),200==t.data.code&&e.$message({message:"更新成功",type:"success"}),e.getTeacherInfo()})},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"all"},[a("el-table",{attrs:{data:e.pagination.records,border:""}},[a("el-table-column",{attrs:{fixed:"left",prop:"teacherName",label:"姓名",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"institute",label:"学院",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sex",label:"性别",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系方式",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",label:"密码",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cardId",label:"身份证号",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"职称",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.checkGrade(t.row.teacherId)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.deleteById(t.row.teacherId)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"page",attrs:{"current-page":e.pagination.current,"page-sizes":[6,10],"page-size":e.pagination.size,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:"编辑试卷信息",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("section",{staticClass:"update"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{model:{value:e.form.teacherName,callback:function(t){e.$set(e.form,"teacherName",t)},expression:"form.teacherName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"学院"}},[a("el-input",{model:{value:e.form.institute,callback:function(t){e.$set(e.form,"institute",t)},expression:"form.institute"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别"}},[a("el-input",{model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电话号码"}},[a("el-input",{model:{value:e.form.tel,callback:function(t){e.$set(e.form,"tel",t)},expression:"form.tel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{model:{value:e.form.pwd,callback:function(t){e.$set(e.form,"pwd",t)},expression:"form.pwd"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证号"}},[a("el-input",{model:{value:e.form.cardId,callback:function(t){e.$set(e.form,"cardId",t)},expression:"form.cardId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"职称"}},[a("el-input",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit()}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var r=a("VU/8")(l,o,!1,function(e){a("E2HW")},"data-v-fa68ba4e",null);t.default=r.exports},E2HW:function(e,t){}});
//# sourceMappingURL=7.768900a58499322c11f4.js.map