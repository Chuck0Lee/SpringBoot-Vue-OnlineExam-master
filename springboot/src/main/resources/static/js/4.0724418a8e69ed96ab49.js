webpackJsonp([4],{"32Rd":function(t,i){},Cdx3:function(t,i,e){var s=e("sB3e"),n=e("lktj");e("uqUo")("keys",function(){return function(t){return n(s(t))}})},RoFm:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("fZjL"),n=e.n(s),a=e("Dd8w"),o=e.n(a),c=e("YtJ0"),l=e("NYxO"),r={store:c.a,data:function(){return{startTime:null,endTime:null,time:null,reduceAnswer:[],answerScore:0,bg_flag:!1,isFillClick:!1,slider_flag:!0,flag:!1,currentType:1,radio:[],title:"请选择正确的选项",index:0,userInfo:{name:null,id:null},topicCount:[],score:[],examData:{},topic:{},showQuestion:[],showAnswer:{},number:1,part:null,fillAnswer:[[]],judgeAnswer:[],topic1Answer:[],rightAnswer:""}},created:function(){this.getCookies(),this.getExamData(),this.showTime()},methods:{getTime:function(t){return t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate())+" "+(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":"+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())},getCookies:function(){this.userInfo.name=this.$cookies.get("cname"),this.userInfo.id=this.$cookies.get("cid")},calcuScore:function(){},getExamData:function(){var t=this,i=new Date;this.startTime=this.getTime(i);var e=this.$route.query.examCode;this.$axios("/api/exam/"+e).then(function(i){t.examData=o()({},i.data.data),t.index=0,t.time=t.examData.totalScore;var e=t.examData.paperId;t.$axios("/api/paper/"+e).then(function(i){t.topic=o()({},i.data);var e=t.topic[1][t.index];t.reduceAnswer=e,n()(t.topic).forEach(function(i){var e=t.topic[i];t.topicCount.push(e.length);for(var s=0,n=0;n<e.length;n++)s+=e[n].score;t.score.push(s)});for(var s=t.topicCount[1],a=[],c=0;c<s;c++){a.push([null,null,null,null])}t.fillAnswer=a;var l=t.topic[1];t.number=1,t.showQuestion=l[0].question,t.showAnswer=l[0]})})},change:function(t){this.index=t;var i=this.topic[1][this.index];this.reduceAnswer=i,this.isFillClick=!0,this.currentType=1;var e=this.topic[1].length;if(this.index<e){this.index<=0&&(this.index=0),console.log("总长度"+e),console.log("当前index:"+t),this.title="请选择正确的选项";var s=this.topic[1];this.showQuestion=s[this.index].question,this.showAnswer=s[this.index],this.number=this.index+1}else this.index>=e&&(this.index=0,this.fill(this.index))},fillBG:function(){null!=this.fillAnswer[this.index][0]&&(this.fillAnswer[this.index][3]=!0)},fill:function(t){var i=this.topic[2].length;if(this.currentType=2,this.index=t,t<i)if(t<0)t=this.topic[1].length-1,this.change(t);else{console.log("总长度"+i),console.log("当前index:"+t),this.title="请在横线处填写答案";var e=this.topic[2];console.log(e),this.showQuestion=e[t].question;var s=this.showQuestion.split("()").length-1;this.part=s,this.number=this.topicCount[0]+t+1}else t>=i&&(this.index=0,this.judge(this.index))},judge:function(t){var i=this.topic[3].length;if(this.currentType=3,this.index=t,this.index<i)if(this.index<0)this.index=this.topic[2].length-1,this.fill(this.index);else{console.log("总长度"+i),console.log("当前index:"+this.index),this.title="请作出正确判断";var e=this.topic[3];console.log(e),this.showQuestion=e[t].question,this.number=this.topicCount[0]+this.topicCount[1]+t+1}else this.index>=i&&(this.index=0,this.change(this.index))},getChangeLabel:function(t){if(this.radio[this.index]=t,t){var i=this.topic[1];this.bg_flag=!0,i[this.index].isClick=!0}this.topic1Answer[this.index]=t},getJudgeLabel:function(t){if(this.judgeAnswer[this.index]=t,t){var i=this.topic[3];this.bg_flag=!0,i[this.index].isClick=!0}},previous:function(){switch(this.index--,this.currentType){case 1:this.change(this.index);break;case 2:this.fill(this.index);break;case 3:this.judge(this.index)}},next:function(){switch(this.index++,this.currentType){case 1:this.change(this.index);break;case 2:this.fill(this.index);break;case 3:this.judge(this.index)}},mark:function(){switch(this.currentType){case 1:this.topic[1][this.index].isMark=!0;break;case 2:this.topic[2][this.index].isMark=!0;break;case 3:this.topic[3][this.index].isMark=!0}},commit:function(){var t=this,i=0;this.topic1Answer.forEach(function(e,s){var n=null;if(null!=e){switch(e){case 1:n="A";break;case 2:n="B";break;case 3:n="C";break;case 4:n="D"}n==t.topic[1][s].rightAnswer&&(i+=t.topic[1][s].score),console.log(n,t.topic[1][s].rightAnswer)}}),this.fillAnswer.forEach(function(e,s){e.forEach(function(e){t.topic[2][s].answer.includes(e)&&(console.log("正确"),i+=t.topic[2][t.index].score)})}),this.judgeAnswer.forEach(function(e,s){var n=null;switch(e){case 1:n="T";break;case 2:n="F"}n==t.topic[3][s].answer&&(i+=t.topic[3][s].score)}),console.log("目前总分"+i),0!=this.time&&this.$confirm("考试结束时间未到,是否提前交卷","友情提示",{confirmButtonText:"立即交卷",cancelButtonText:"再检查一下",type:"warning"}).then(function(){console.log("交卷");var e=new Date;t.endTime=t.getTime(e);var s=t.endTime.substr(0,10);t.$axios({url:"/api/score",method:"post",data:{examCode:t.examData.examCode,studentId:t.userInfo.id,subject:t.examData.source,etScore:i,answerDate:s}}).then(function(e){200==e.data.code&&t.$router.push({path:"/studentScore",query:{score:i,startTime:t.startTime,endTime:t.endTime}})})}).catch(function(){console.log("继续答题")})},showTime:function(){var t=this;setInterval(function(){t.time-=1,10==t.time&&(t.$message({showClose:!0,type:"error",message:"考生注意,考试时间还剩10分钟！！！"}),0==t.time&&console.log("考试时间已到,强制交卷。"))},6e4)}},computed:Object(l.c)(["isPractice"])},u={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"answer"}},[e("div",{staticClass:"top"},[e("ul",{staticClass:"item"},[e("li",[e("i",{ref:"toggle",staticClass:"iconfont icon-menufold icon20",on:{click:function(i){t.slider_flag=!t.slider_flag}}})]),t._v(" "),e("li",[t._v(t._s(t.examData.type)+"-"+t._s(t.examData.source))]),t._v(" "),e("li",{on:{click:function(i){t.flag=!t.flag}}},[e("i",{staticClass:"iconfont icon-user icon20"}),t._v(" "),t.flag?e("div",{staticClass:"msg",on:{click:function(i){t.flag=!t.flag}}},[e("p",[t._v("姓名："+t._s(t.userInfo.name))]),t._v(" "),e("p",[t._v("准考证号:  "+t._s(t.userInfo.id))])]):t._e()]),t._v(" "),t._m(0)])]),t._v(" "),e("div",{staticClass:"flexarea"},[e("transition",{attrs:{name:"slider-fade"}},[t.slider_flag?e("div",{staticClass:"left"},[e("ul",{staticClass:"l-top"},[e("li",[e("a",{attrs:{href:"javascript:;"}}),t._v(" "),e("span",[t._v("当前")])]),t._v(" "),e("li",[e("a",{attrs:{href:"javascript:;"}}),t._v(" "),e("span",[t._v("未答")])]),t._v(" "),e("li",[e("a",{attrs:{href:"javascript:;"}}),t._v(" "),e("span",[t._v("已答")])]),t._v(" "),e("li",[e("a",{attrs:{href:"javascript:;"}}),t._v(" "),e("span",[t._v("标记")])])]),t._v(" "),e("div",{staticClass:"l-bottom"},[e("div",{staticClass:"item"},[e("p",[t._v("选择题部分")]),t._v(" "),e("ul",t._l(t.topic[1],function(i,s){return e("li",{key:s},[e("a",{class:{border:t.index==s&&1==t.currentType,bg:t.bg_flag&&1==t.topic[1][s].isClick},attrs:{href:"javascript:;"},on:{click:function(i){t.change(s)}}},[e("span",{class:{mark:1==t.topic[1][s].isMark}}),t._v("\n                    "+t._s(s+1)+"\n                  ")])])}),0)]),t._v(" "),e("div",{staticClass:"item"},[e("p",[t._v("填空题部分")]),t._v(" "),e("ul",t._l(t.topic[2],function(i,s){return e("li",{key:s},[e("a",{class:{border:t.index==s&&2==t.currentType,bg:1==t.fillAnswer[s][3]},attrs:{href:"javascript:;"},on:{click:function(i){t.fill(s)}}},[e("span",{class:{mark:1==t.topic[2][s].isMark}}),t._v(t._s(t.topicCount[0]+s+1))])])}),0)]),t._v(" "),e("div",{staticClass:"item"},[e("p",[t._v("判断题部分")]),t._v(" "),e("ul",t._l(t.topic[3],function(i,s){return e("li",{key:s},[e("a",{class:{border:t.index==s&&3==t.currentType,bg:t.bg_flag&&1==t.topic[3][s].isClick},attrs:{href:"javascript:;"},on:{click:function(i){t.judge(s)}}},[e("span",{class:{mark:1==t.topic[3][s].isMark}}),t._v(t._s(t.topicCount[0]+t.topicCount[1]+s+1))])])}),0)]),t._v(" "),e("div",{staticClass:"final",on:{click:function(i){t.commit()}}},[t._v("结束考试")])])]):t._e()]),t._v(" "),e("transition",{attrs:{name:"slider-fade"}},[e("div",{staticClass:"right"},[e("div",{staticClass:"title"},[e("p",[t._v(t._s(t.title))]),t._v(" "),e("i",{staticClass:"iconfont icon-right auto-right"}),t._v(" "),e("span",[t._v("全卷共"+t._s(t.topicCount[0]+t.topicCount[1]+t.topicCount[2])+"题  "),e("i",{staticClass:"iconfont icon-time"}),t._v("倒计时："),e("b",[t._v(t._s(t.time))]),t._v("分钟")])]),t._v(" "),e("div",{staticClass:"content"},[e("p",{staticClass:"topic"},[e("span",{staticClass:"number"},[t._v(t._s(t.number))]),t._v(t._s(t.showQuestion))]),t._v(" "),1==t.currentType?e("div",[e("el-radio-group",{on:{change:t.getChangeLabel},model:{value:t.radio[t.index],callback:function(i){t.$set(t.radio,t.index,i)},expression:"radio[index]"}},[e("el-radio",{attrs:{label:1}},[t._v(t._s(t.showAnswer.answerA))]),t._v(" "),e("el-radio",{attrs:{label:2}},[t._v(t._s(t.showAnswer.answerB))]),t._v(" "),e("el-radio",{attrs:{label:3}},[t._v(t._s(t.showAnswer.answerC))]),t._v(" "),e("el-radio",{attrs:{label:4}},[t._v(t._s(t.showAnswer.answerD))])],1),t._v(" "),t.isPractice?e("div",{staticClass:"analysis"},[e("ul",[e("li",[e("el-tag",{attrs:{type:"success"}},[t._v("正确姿势：")]),e("span",{staticClass:"right"},[t._v(t._s(t.reduceAnswer.rightAnswer))])],1),t._v(" "),e("li",[e("el-tag",[t._v("题目解析：")])],1),t._v(" "),e("li",[t._v(t._s(null==t.reduceAnswer.analysis?"暂无解析":t.reduceAnswer.analysis))])])]):t._e()],1):t._e(),t._v(" "),2==t.currentType?e("div",{staticClass:"fill"},[t._l(t.part,function(i,s){return e("div",{key:s},[e("el-input",{attrs:{placeholder:"请填在此处",clearable:""},on:{blur:t.fillBG},model:{value:t.fillAnswer[t.index][s],callback:function(i){t.$set(t.fillAnswer[t.index],s,i)},expression:"fillAnswer[index][currentIndex]"}})],1)}),t._v(" "),t.isPractice?e("div",{staticClass:"analysis"},[e("ul",[e("li",[e("el-tag",{attrs:{type:"success"}},[t._v("正确姿势：")]),e("span",{staticClass:"right"},[t._v(t._s(t.topic[2][t.index].answer))])],1),t._v(" "),e("li",[e("el-tag",[t._v("题目解析：")])],1),t._v(" "),e("li",[t._v(t._s(null==t.topic[2][t.index].analysis?"暂无解析":t.topic[2][t.index].analysis))])])]):t._e()],2):t._e(),t._v(" "),3==t.currentType?e("div",{staticClass:"judge"},[3==t.currentType?e("el-radio-group",{on:{change:t.getJudgeLabel},model:{value:t.judgeAnswer[t.index],callback:function(i){t.$set(t.judgeAnswer,t.index,i)},expression:"judgeAnswer[index]"}},[e("el-radio",{attrs:{label:1}},[t._v("正确")]),t._v(" "),e("el-radio",{attrs:{label:2}},[t._v("错误")])],1):t._e(),t._v(" "),t.isPractice?e("div",{staticClass:"analysis"},[e("ul",[e("li",[e("el-tag",{attrs:{type:"success"}},[t._v("正确姿势：")]),e("span",{staticClass:"right"},[t._v(t._s(t.topic[3][t.index].answer))])],1),t._v(" "),e("li",[e("el-tag",[t._v("题目解析：")])],1),t._v(" "),e("li",[t._v(t._s(null==t.topic[3][t.index].analysis?"暂无解析":t.topic[3][t.index].analysis))])])]):t._e()],1):t._e()]),t._v(" "),e("div",{staticClass:"operation"},[e("ul",{staticClass:"end"},[e("li",{on:{click:function(i){t.previous()}}},[e("i",{staticClass:"iconfont icon-previous"}),e("span",[t._v("上一题")])]),t._v(" "),e("li",{on:{click:function(i){t.mark()}}},[e("i",{staticClass:"iconfont icon-mark-o"}),e("span",[t._v("标记")])]),t._v(" "),e("li",{on:{click:function(i){t.next()}}},[e("span",[t._v("下一题")]),e("i",{staticClass:"iconfont icon-next"})])])])])])],1)])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("li",[i("i",{staticClass:"iconfont icon-arrLeft icon20"})])}]};var h=e("VU/8")(r,u,!1,function(t){e("32Rd")},null,null);i.default=h.exports},fZjL:function(t,i,e){t.exports={default:e("jFbC"),__esModule:!0}},jFbC:function(t,i,e){e("Cdx3"),t.exports=e("FeBl").Object.keys},uqUo:function(t,i,e){var s=e("kM2E"),n=e("FeBl"),a=e("S82l");t.exports=function(t,i){var e=(n.Object||{})[t]||Object[t],o={};o[t]=i(e),s(s.S+s.F*a(function(){e(1)}),"Object",o)}}});
//# sourceMappingURL=4.0724418a8e69ed96ab49.js.map